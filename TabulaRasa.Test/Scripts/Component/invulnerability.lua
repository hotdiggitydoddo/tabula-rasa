local this = Component;
local game = GameWrapper;

function init (script, defaults)
    this = Component.__new("invulnerability", 1, script, "takedamage");
	return this;
end

function onAdded()
    this.Owner.Traits["isInvulnerable"] = true;
end

function onRemoved()
    this.Owner.Traits["isInvulnerable"] = nil;
end

function handleAction (gameAction)
    t = {foo = "bar", [123] = 456}
    
    
    print (t["foo"])

    actionType = gameAction.Type;
    if (actionType == "takedamage") then
       newArgs = {["foo"] = "bar", [123] = 456};
    --    for key,value in pairs(gameAction.Args) do
    --     if (key == 1) then newArgs["1"] = 0 end
    --    end
     gameAction.Args = t

       
       gameAction.Value = 0;
       print (gameAction.Args)
    end
    return gameAction;
end